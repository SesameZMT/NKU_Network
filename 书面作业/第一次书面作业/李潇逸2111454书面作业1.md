## 习题 1

![Alt text](../%E5%9B%BE%E7%89%87/%E4%B9%A6%E9%9D%A2%E4%BD%9C%E4%B8%9A1%E4%B9%A0%E9%A2%981.png)

### (1)

   1. **传播延时**：这是电磁波在链路中传播所需的时间。传播速度是 ${2 \times 10^8}$ 米/秒。
      - 链路1传播延时：${ \frac{1 \text{ km}}{2 \times 10^8 \text{ m/s}} = 5 \times 10^{-6} \text{ s} }$
      - 链路2传播延时：${ \frac{20 \text{ km}}{2 \times 10^8 \text{ m/s}} = 100 \times 10^{-6} \text{ s} }$
      - 链路3传播延时：${ \frac{0.5 \text{ km}}{2 \times 10^8 \text{ m/s}} = 2.5 \times 10^{-6} \text{ s} }$

   2. **传输延时**：这是在给定链路的传输速率下发送数据所需的时间。
      - 报文大小：6000 字节 = 48000 位
      - 链路1传输延时：${ \frac{48000 \text{ bits}}{100 \times 10^6 \text{ bps}} = 0.48 \text{ ms} }$
      - 链路2传输延时：${ \frac{48000 \text{ bits}}{1 \times 10^9 \text{ bps}} = 0.048 \text{ ms} }$
      - 链路3传输延时：${ \frac{48000 \text{ bits}}{100 \times 10^6 \text{ bps}} = 0.48 \text{ ms} }$

   3. **存储转发延时**：R1 和 R2 需要接收到整个报文后才开始转发。
      - R1 和 R2 的存储转发延时为 0.48 ms（与链路1和链路3的传输延时相同）

   综合计算，最小端到端延时为传输延时之和加上传播延时之和加上存储转发延时。
   - 总传播延时 = ${5 + 100 + 2.5}$ 微秒 = ${107.5}$ 微秒
   - 总传输延时 = ${0.48 + 0.048 + 0.48}$ 毫秒 = ${1.008}$ 毫秒
   - 存储转发总延时 = ${2 \times 0.48}$ 毫秒 = ${0.96}$ 毫秒

   总端到端延时 = ${1.008 \text{ ms} + 107.5 \text{ μs} + 0.96 \text{ ms} = 2.0755 \text{ ms}}$

### (2)

1. 每个分组的大小：6000 字节 / 4 = 1500 字节 = 12000 位
2. 由于分组较小，每个链路的传输延时将减少。
   - 链路1、3传输延时（每个分组）：${ \frac{12000 \text{ bits}}{100 \times 10^6 \text{ bps}} = 0.12 \text{ ms} }$
   - 链路2传输延时（每个分组）：${ \frac{12000 \text{ bits}}{1 \times 10^9 \text{ bps}} = 0.012 \text{ ms} }$
3. 存储转发延时同样减少。
   - R1 和 R2 的存储转发延时为 0.12 ms（与链路1和链路3的传输延时相同）
4. 总传播延时不变，为 ${107.5}$ 微秒。

对于每个分组，总延时 = ${0.

12 \text{ ms} + 0.012 \text{ ms} + 0.12 \text{ ms} + 107.5 \text{ μs} + 0.24 \text{ ms} = 0.5925 \text{ ms}}$

由于每个分组都必须完全通过网络，因此总延时为 ${4 \times 0.5925 \text{ ms} = 2.37 \text{ ms}}$。

### (3)

1. **网络拥塞**：多路复用中，不同的数据流共享相同的物理资源，可能导致网络拥塞，增加延时。
2. **分组排队**：在中间设备（如路由器）中，分组可能需要在传输前等待，特别是在高负载情况下。
3. **分组大小和数量**：分组的大小和数量会影响处理和传输的时间。
4. **路由选择**：不同的路径可能有不同的延时特性，尤其是在动态路由选择的情况下。
5. **网络协议**：使用的协议（如TCP或UDP）可能会因为重传机制、拥塞控制等而影响延时。

这些因素在多路复用环境中相互作用，增加了端到端延时的不确定性。


## 习题 2

![Alt text](../%E5%9B%BE%E7%89%87/%E4%B9%A6%E9%9D%A2%E4%BD%9C%E4%B8%9A1%E4%B9%A0%E9%A2%982.png)

### (1)
- 浏览器的IP地址：202.60.32.102
- Web服务器的IP地址：59.1.16.8

### (2)
报文1～3是TCP三次握手过程，用于在两台主机之间建立可靠的连接。
- 报文1（No. 1）：来自浏览器的SYN报文，用于开始建立连接，询问服务器是否可以通信。
- 报文2（No. 2）：来自服务器的SYN-ACK报文，表示服务器已经接受到SYN报文，并且同意建立连接。
- 报文3（No. 3）：来自浏览器的ACK报文，是对服务器SYN-ACK的确认，完成三次握手，连接建立。

### (3)
- 报文6（No. 6）：是HTTP GET请求，浏览器请求服务器上的一个页面或其他资源。
- 报文9（No. 9）：是HTTP GET请求，浏览器请求服务器上的一个图片资源（test.jpg）。

### （4）使用Windows命令行模式提供的nslookup命令查询www.nankai.edu.cn的IP地址，给出结果截图，并对返回的结果进行解释。

![Alt text](../%E5%9B%BE%E7%89%87/%E4%B9%A6%E9%9D%A2%E4%BD%9C%E4%B8%9A1%E4%B9%A0%E9%A2%982(4).png)

当在命令行中输入 `nslookup www.nankai.edu.cn` 命令后，看到的输出是对 `www.nankai.edu.cn` 这个域名的DNS查询结果。这个结果可以分为两部分来解释：

1. **服务器信息**:
   - **服务器**: `41.45.30.222.in-addr.arpa`：这是进行DNS查询的服务器的反向DNS名称。反向DNS用于将IP地址转换为域名。这里显示的是执行 `nslookup` 命令时所使用的本地或默认DNS服务器的反向DNS名称。
   - **Address**: `222.30.45.41`：这是进行DNS查询的DNS服务器的IP地址。这个地址是执行查询的DNS服务器的实际IP地址。

2. **非权威应答**:
   - **非权威应答**表明这个回答来自于一个非权威源，也就是说，这个DNS服务器并不直接负责这个域名区域，但它从其他地方获得了这个信息。
   - **名称**: `www.nankai.edu.cn`：这是您查询的域名。
   - **Addresses**: 
       - `2001:250:401:d450::190`：这是 `www.nankai.edu.cn` 域名的IPv6地址。IPv6地址是互联网协议的新版本，它提供了更多的地址空间。
       - `222.30.45.190`：这是相同域名的IPv4地址。IPv4是目前互联网上最广泛使用的协议版本。

综上所述，这个 `nslookup` 命令的结果显示了进行查询的DNS服务器的信息，以及 `www.nankai.edu.cn` 域名对应的IPv6和IPv4地址。这些信息通常用于网络诊断和配置。